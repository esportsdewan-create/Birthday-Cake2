<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíï Romantic 3D Birthday Celebration - by Himanshu üíï</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            overflow: hidden;
            font-family: 'Georgia', serif;
            background: radial-gradient(circle at center, #2d1b69, #0a0a23, #000000);
            color: white;
            cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20"><text y="16" font-size="16">üíñ</text></svg>'), auto;
        }
        canvas { position: fixed; top: 0; left: 0; z-index: 1; }
        .hearts-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="hearts" x="0" y="0" width="40" height="40" patternUnits="userSpaceOnUse"><text x="20" y="25" font-size="8" text-anchor="middle" fill="rgba(255,182,193,0.1)">üíï</text></pattern></defs><rect width="100" height="100" fill="url(%23hearts)"/></svg>');
            animation: heartFloat 20s linear infinite;
        }
        @keyframes heartFloat {
            from { transform: translateY(100vh); }
            to { transform: translateY(-100vh); }
        }
        .overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            z-index: 10; pointer-events: none;
        }
        .welcome-screen {
            background: linear-gradient(135deg, rgba(139,0,139,0.9), rgba(75,0,130,0.9));
            backdrop-filter: blur(10px); border-radius: 20px;
            border: 2px solid rgba(255,182,193,0.3);
            padding: 3rem; display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            pointer-events: auto; transition: all 1s ease-out;
            box-shadow: 0 20px 40px rgba(255,182,193,0.2);
        }
        .welcome-screen.hidden { opacity: 0; transform: scale(0.8); pointer-events: none; }
        .birthday-title {
            font-size: 3.5rem; text-align: center; margin-bottom: 1rem;
            background: linear-gradient(45deg, #ff69b4, #ff1493, #dc143c, #ff69b4);
            background-size: 300% 300%; -webkit-background-clip: text;
            -webkit-text-fill-color: transparent; animation: loveGradient 4s ease-in-out infinite;
            text-shadow: 0 0 20px rgba(255,105,180,0.3);
        }
        @keyframes loveGradient {
            0%,100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }
        .love-subtitle {
            font-size: 1.3rem; margin-bottom: 2rem; text-align: center;
            color: #ffb6c1; font-style: italic; text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .start-btn {
            padding: 1.2rem 2.5rem; font-size: 1.3rem;
            background: linear-gradient(45deg, #ff1493, #ff69b4, #da70d6);
            border: none; border-radius: 30px; color: white; cursor: pointer;
            box-shadow: 0 10px 20px rgba(255,20,147,0.3); font-weight: bold;
            position: relative; overflow: hidden; transition: all 0.3s;
        }
        .start-btn:hover { transform: translateY(-3px); box-shadow: 0 15px 25px rgba(255,20,147,0.4); }
        .start-btn::before {
            content: ''; position: absolute; top: -50%; left: -50%;
            width: 200%; height: 200%; background: linear-gradient(45deg, transparent, rgba(255,255,255,0.3), transparent);
            transform: rotate(45deg); transition: all 0.3s; opacity: 0;
        }
        .start-btn:hover::before { opacity: 1; animation: shimmer 1s ease-in-out; }
        @keyframes shimmer {
            0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
            100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
        }
        .instructions {
            position: absolute; bottom: 30px; left: 50%; transform: translateX(-50%);
            background: linear-gradient(135deg, rgba(139,0,139,0.8), rgba(75,0,130,0.8));
            backdrop-filter: blur(10px); padding: 1rem 2rem; border-radius: 20px;
            opacity: 0; transition: all 0.8s; pointer-events: auto;
            border: 1px solid rgba(255,182,193,0.3); box-shadow: 0 10px 20px rgba(255,182,193,0.2);
        }
        .instructions.show { opacity: 1; }
        .music-control {
            position: absolute; top: 20px; right: 20px; z-index: 20;
            background: linear-gradient(135deg, rgba(139,0,139,0.8), rgba(75,0,130,0.8));
            backdrop-filter: blur(10px); padding: 15px; border-radius: 50%;
            cursor: pointer; transition: all 0.3s; border: 2px solid rgba(255,182,193,0.3);
            font-size: 1.5rem;
        }
        .music-control:hover { transform: scale(1.1); box-shadow: 0 5px 15px rgba(255,182,193,0.3); }
        .cake-cutting-btn {
            position: absolute; bottom: 80px; left: 50%; transform: translateX(-50%);
            padding: 1.2rem 2.5rem; font-size: 1.2rem;
            background: linear-gradient(45deg, #ff4500, #ff6347, #ff69b4);
            border: none; border-radius: 25px; color: white; cursor: pointer;
            opacity: 0; transition: all 0.5s; pointer-events: auto;
            box-shadow: 0 10px 20px rgba(255,69,0,0.3); font-weight: bold;
        }
        .cake-cutting-btn.show { opacity: 1; }
        .cake-cutting-btn:hover { transform: translateX(-50%) translateY(-3px); }
        .congratulation {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(135deg, rgba(139,0,139,0.95), rgba(75,0,130,0.95));
            backdrop-filter: blur(15px); display: flex; flex-direction: column;
            justify-content: center; align-items: center; opacity: 0; transition: all 1.5s;
            pointer-events: none;
        }
        .congratulation.show { opacity: 1; }
        .congratulation h1 {
            font-size: 4rem; margin-bottom: 1rem; text-align: center;
            animation: loveHeartbeat 2s ease-in-out infinite;
            background: linear-gradient(45deg, #ff69b4, #ff1493, #dc143c);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(255,105,180,0.5);
        }
        @keyframes loveHeartbeat {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .love-message {
            font-size: 1.8rem; text-align: center; color: #ffb6c1;
            font-style: italic; max-width: 80%; line-height: 1.6;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .particle-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 100;
        }
        .heart-particle {
            position: absolute; font-size: 1.5rem;
            animation: floatHeart 3s linear infinite; pointer-events: none;
        }
        @keyframes floatHeart {
            0% { transform: translateY(100vh) rotate(0deg); opacity: 1; }
            100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }
        }
        .love-particle {
            position: absolute; width: 8px; height: 8px;
            background: linear-gradient(45deg, #ff69b4, #ff1493);
            border-radius: 50%; animation: loveBurst 2s ease-out forwards;
        }
        @keyframes loveBurst {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            50% { transform: scale(1) rotate(180deg); opacity: 0.8; }
            100% { transform: scale(0) rotate(360deg); opacity: 0; }
        }
        .fireworks {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none; z-index: 150;
        }
        .firework {
            position: absolute; width: 6px; height: 6px; border-radius: 50%;
            animation: explode 2.5s ease-out infinite;
        }
        @keyframes explode {
            0% { transform: scale(0); opacity: 1; }
            50% { transform: scale(1); opacity: 0.8; }
            100% { transform: scale(2); opacity: 0; }
        }
        @media (max-width: 768px) {
            .birthday-title { font-size: 2.5rem; }
            .congratulation h1 { font-size: 2.8rem; }
            .love-message { font-size: 1.4rem; }
        }
    </style>
</head>
<body>
    <div class="hearts-bg"></div>
    <div class="overlay welcome-screen" id="welcomeScreen">
        <h1 class="birthday-title">üíï Happy Birthday My Love üíï</h1>
        <p class="love-subtitle">A magical 3D celebration made with all my love</p>
        <p style="font-size:1rem; margin-bottom:2rem; text-align:center; color:#dda0dd;">
            Blow the candles, cut the cake, and let our love light up the world<br>
            <small style="color:#ffb6c1;">Created with love  ‚ù§Ô∏è</small>
        </p>
        <button class="start-btn" onclick="startLoveCelebration()">üéÇ Begin Our Love Story üíñ</button>
    </div>
    <div class="music-control" id="musicControl" onclick="toggleMusic()" title="Toggle Love Song">üéµ</div>
    <div class="instructions" id="instructions">
        <p>üíï Hold your heart (click & hold) to blow out the candles with love! üíï</p>
    </div>
    <button class="cake-cutting-btn" id="cakeCuttingBtn" onclick="cutCakeWithLove()">üî™ Let's Cut Our Love Cake Together! üíñ</button>
    <div class="congratulation" id="congratulation">
        <h1>üíñ Happy Birthday My Darling! üíñ</h1>
        <p class="love-message">
            On this special day, I want you to know that you mean the world to me.<br>
            Every moment with you is a celebration of love and happiness.<br>
            May all your dreams come true, and may our love grow stronger each day.<br>
            <strong style="color:#ff69b4;">I love you more than words can express! üíï</strong>
        </p>
    </div>
    <div class="particle-container" id="particleContainer"></div>
    <div class="fireworks" id="fireworks"></div>
    <audio id="loveAudio" loop>
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmMcBzKJ0fLNeSsFKHfH8N2QQAoUXrTp66hVFApGn+DyvmMcBzKJ0fLNeSsFKHfH8N2QQAoUXrTp66hVFApGn+DyvmMcBzKJ0fLNeSsFKHfH8N2QQAoUXrTp66hVFApGn+DyvmMcBzKJ0fLNeSsFKHfH8N2QQAoUXrTp66hVFApGn+DyvmMcBzKJ0fLNeSsFKHfH8N2QQAoUXrTp66hVFApGn+DyvmMcBzKJ0fLNeSsFKHfH8N2QQAoUXrTp66hVFApGn+DyvmMcBzKJ0fLNeSsFKHfH8N2QQAoUXrTp66hVFApGn+DyvmMcBzKJ0fLNeSsFKHfH8N2QQAoUXrTp66hVFA=" type="audio/wav">
    </audio>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        let scene, camera, renderer, cake, candles = [], flameMaterials = [];
        let clock = new THREE.Clock();
        let isStarted = false, isMusic = false, blown = false, cut = false;
        function init() {
            scene = new THREE.Scene();
            scene.fog = new THREE.Fog(0x0a0a23, 8, 40);
            camera = new THREE.PerspectiveCamera(75, innerWidth/innerHeight, 0.1, 1000);
            camera.position.set(0,10,18);
            renderer = new THREE.WebGLRenderer({ antialias:true, alpha:true });
            renderer.setSize(innerWidth, innerHeight);
            renderer.shadowMap.enabled = true;
            document.body.appendChild(renderer.domElement);
            scene.add(new THREE.AmbientLight(0xffffff,0.4));
            let dir = new THREE.DirectionalLight(0xffb6c1,0.6);
            dir.position.set(10,15,5); dir.castShadow=true; scene.add(dir);
            scene.add(new THREE.PointLight(0xff69b4,0.8,20).position.set(-10,8,10));
            scene.add(new THREE.PointLight(0x9370db,0.6,15).position.set(10,5,-8));
            buildRomanticCake(); buildLoveCandles(); buildRomanticTable();
            createHeartParticles(); animate();
        }
        function buildRomanticCake() {
            cake = new THREE.Group();
            [[3.5,1.8,0xffb6c1,0.9],[2.5,1.4,0xff69b4,1.0,1.6],[1.8,1.2,0xff1493,1.0,2.8]].forEach((p,i)=>{
                let g=new THREE.CylinderGeometry(p[0],p[0],p[1],32),
                    m=new THREE.MeshPhongMaterial({color:p[2],shininess:40,transparent:true,opacity:p[3]}),
                    mesh=new THREE.Mesh(g,m);
                mesh.position.y=p[4]||0; mesh.castShadow=mesh.receiveShadow=true;
                if(i===2) mesh.userData.isTopLayer=true;
                cake.add(mesh);
            });
            addRomanticDecorations(); scene.add(cake);
        }
        function addRomanticDecorations() {
            [{r:3.2,y:0.9,c:8,s:0.15,col:0xff1493},{r:2.2,y:2.3,c:6,s:0.12,col:0xff69b4},{r:1.5,y:3.4,c:4,s:0.1,col:0xffb6c1}].forEach(l=>{
                for(let i=0;i<l.c;i++){
                    let a=(i/l.c)*Math.PI*2,h=createHeartDecoration(l.s,l.col);
                    h.position.set(Math.cos(a)*l.r,l.y,Math.sin(a)*l.r);
                    h.rotation.y=a; cake.add(h);
                }
            });
            for(let i=0;i<12;i++){
                let p=new THREE.Mesh(new THREE.SphereGeometry(0.08,6,6),
                    new THREE.MeshPhongMaterial({color:0xdc143c}));
                p.position.set((Math.random()-0.5)*2.5,3.5,(Math.random()-0.5)*2.5);
                p.rotation.set(Math.random()*Math.PI,Math.random()*Math.PI,Math.random()*Math.PI);
                cake.add(p);
            }
        }
        function createHeartDecoration(size,color){
            let shape=new THREE.Shape(),x=0,y=0;shape.moveTo(x+size,y+size/2);
            for(let i=0;i<=Math.PI*2;i+=0.1){
                let px=x+size*(16*Math.pow(Math.sin(i),3))/16,
                    py=y+size*(13*Math.cos(i)-5*Math.cos(2*i)-2*Math.cos(3*i)-Math.cos(4*i))/16;
                shape.lineTo(px,py);
            }
            let geom=new THREE.ExtrudeGeometry(shape,{depth:size/3,bevelEnabled:true,bevelSize:size/10,bevelThickness:size/20}),
                mat=new THREE.MeshPhongMaterial({color,shininess:60});
            return new THREE.Mesh(geom,mat);
        }
        function buildLoveCandles(){
            for(let i=0;i<8;i++){
                let a=(i/8)*Math.PI*2,c=createLoveCandle();
                c.position.set(Math.cos(a)*1.2,3.5,Math.sin(a)*1.2);
                candles.push(c); cake.add(c);
            }
        }
        function createLoveCandle(){
            let g=new THREE.Group();
            let b=new THREE.Mesh(new THREE.CylinderGeometry(0.06,0.06,1,8),
                new THREE.MeshPhongMaterial({color:0xff69b4}));
            b.position.y=0.5; g.add(b);
            let w=new THREE.Mesh(new THREE.CylinderGeometry(0.01,0.01,0.12,4),
                new THREE.MeshPhongMaterial({color:0x000000}));
            w.position.y=1.06; g.add(w);
            let f=createRomanticFlame(); f.position.y=1.15; g.add(f);
            let l=new THREE.PointLight(0xff69b4,1.2,4); l.position.y=1.15; l.castShadow=true; g.add(l);
            g.userData={flame:f,light:l}; return g;
        }
        function createRomanticFlame(){
            let geom=new THREE.SphereGeometry(0.08,8,8),mat=new THREE.ShaderMaterial({
                uniforms:{time:{value:0}},transparent:true,
                vertexShader:`uniform float time;varying vec2 vUv;varying float vI;void main(){vUv=uv;vec3 p=position;p.y*=1.8;float sway=sin(time*3.0+position.y*8.0)*0.03;p.x+=sway;p.z+=cos(time*2.5+position.y*6.0)*0.025;vI=1.0-vUv.y;gl_Position=projectionMatrix*modelViewMatrix*vec4(p,1.0);}`,
                fragmentShader:`varying vec2 vUv;varying float vI;void main(){float i=vI;vec3 c=mix(vec3(1.0,0.1,0.4),vec3(1.0,0.6,0.8),i);c=mix(c,vec3(1.0,0.8,0.2),i*0.7);float a=i*0.9;gl_FragColor=vec4(c,a);}`
            });
            flameMaterials.push(mat); return new THREE.Mesh(geom,mat);
        }
        function buildRomanticTable(){
            let t=new THREE.Mesh(new THREE.CylinderGeometry(10,10,0.4,32),
                new THREE.MeshPhongMaterial({color:0x8b4513,shininess:80}));
            t.position.y=-1;t.receiveShadow=true;
            let c=new THREE.Mesh(new THREE.CylinderGeometry(9.8,9.8,0.05,32),
                new THREE.MeshPhongMaterial({color:0xffb6c1,transparent:true,opacity:0.8}));
            c.position.y=-0.6; t.add(c); scene.add(t);
        }
        function createHeartParticles(){
            setInterval(()=>{
                if(!isStarted) return;
                let hearts=['üíñ','üíï','üíó','üíì','üíù'],h=document.createElement('div');
                h.className='heart-particle';h.textContent=hearts[Math.floor(Math.random()*hearts.length)];
                h.style.left=Math.random()*innerWidth+'px';h.style.animationDuration=(2+Math.random()*2)+'s';
                h.style.animationDelay=Math.random()*2+'s';
                document.getElementById('particleContainer').appendChild(h);
                setTimeout(()=>h.remove(),5000);
            },800);
        }
        function startLoveCelebration(){
            document.getElementById('welcomeScreen').classList.add('hidden');isStarted=true;
            setTimeout(()=>{
                document.getElementById('loveAudio').play().catch(()=>{});
                document.getElementById('instructions').classList.add('show');
            },1000);
            setTimeout(()=>{if(!blown)document.getElementById('cakeCuttingBtn').classList.add('show');},20000);
        }
        function toggleMusic(){
            let a=document.getElementById('loveAudio'),c=document.getElementById('musicControl');
            if(isMusic){a.pause();c.textContent='üîá';}else{a.play();c.textContent='üéµ';}
            isMusic=!isMusic;
        }
        function blowOutWithLove(){
            if(blown) return; blown=true;
            document.getElementById('instructions').style.display='none';
            for(let i=0;i<20;i++){
                setTimeout(()=>{
                    let x=innerWidth/2+(Math.random()-0.5)*300,y=innerHeight/2+(Math.random()-0.5)*200;
                    createLoveParticle(x,y);
                },i*50);
            }
            candles.forEach((c,i)=>{
                setTimeout(()=>{
                    let f=c.userData.flame,l=c.userData.light,op=1;
                    let id=setInterval(()=>{
                        op-=0.04;f.material.opacity=op;l.intensity=op*1.2;
                        if(op<=0){clearInterval(id);f.visible=false;l.intensity=0;}
                    },60);
                },i*400);
            });
            setTimeout(()=>document.getElementById('cakeCuttingBtn').classList.add('show'),3000);
        }
        function cutCakeWithLove(){
            if(cut) return; cut=true;
            document.getElementById('cakeCuttingBtn').style.display='none';
            let top=cake.children.find(ch=>ch.userData.isTopLayer),rot=0;
            let id=setInterval(()=>{
                rot+=0.03;top.rotation.y=rot;top.position.y+=0.008;
                if(Math.random()<0.3)createLoveParticle(innerWidth/2+(Math.random()-0.5)*200,innerHeight/2+(Math.random()-0.5)*150);
                if(rot>Math.PI/3){clearInterval(id);showLoveCongratulations();}
            },80);
        }
        function showLoveCongratulations(){
            document.getElementById('congratulation').classList.add('show');
            createRomanticFireworks();
            for(let i=0;i<100;i++)setTimeout(createHeartExplosion,i*50);
        }
        function createHeartExplosion(){
            let hs=['üíñ','üíï','üíó','üíì','üíù','‚ù§Ô∏è','üíú','üíô'],h=document.createElement('div');
            h.className='heart-particle';h.textContent=hs[Math.floor(Math.random()*hs.length)];
            h.style.left=(innerWidth/2+(Math.random()-0.5)*400)+'px';
            h.style.top=(innerHeight/2+(Math.random()-0.5)*300)+'px';
            h.style.fontSize=(1+Math.random()*2)+'rem';h.style.animationDuration=(1.5+Math.random()*2)+'s';
            document.getElementById('particleContainer').appendChild(h);
            setTimeout(()=>h.remove(),4000);
        }
        function createRomanticFireworks(){
            let c=document.getElementById('fireworks'),cols=['#ff69b4','#ff1493','#dc143c','#ff6347','#da70d6','#ba55d3'];
            for(let i=0;i<30;i++){
                setTimeout(()=>{
                    let f=document.createElement('div');f.className='firework';
                    f.style.left=Math.random()*100+'%';f.style.top=Math.random()*100+'%';
                    f.style.backgroundColor=cols[Math.floor(Math.random()*cols.length)];
                    f.style.animationDelay=Math.random()*0.5+'s';c.appendChild(f);
                    setTimeout(()=>f.remove(),2500);
                },i*150);
            }
        }
        function createLoveParticle(x,y){
            let p=document.createElement('div');p.className='love-particle';
            p.style.left=x+'px';p.style.top=y+'px';p.style.animationDelay=Math.random()*0.5+'s';
            document.getElementById('particleContainer').appendChild(p);
            setTimeout(()=>p.remove(),2000);
        }
        function animate(){
            requestAnimationFrame(animate);
            if(!isStarted) return;
            let t=clock.getElapsedTime();
            flameMaterials.forEach(m=>m.uniforms.time.value=t);
            cake.rotation.y=t*0.05;
            camera.position.x=Math.sin(t*0.08)*3;
            camera.position.z=18+Math.cos(t*0.06)*2;
            camera.position.y=10+Math.sin(t*0.04)*1;
            camera.lookAt(0,3,0);
            renderer.render(scene,camera);
        }
        let hold,isHolding=false;
        function startHold(){ if(blown||!isStarted) return;isHolding=true;hold=setTimeout(()=>blowOutWithLove(),1200); }
        function endHold(){ isHolding=false;clearTimeout(hold); }
        document.addEventListener('mousedown',startHold);
        document.addEventListener('mouseup',endHold);
        document.addEventListener('touchstart',startHold);
        document.addEventListener('touchend',endHold);
        window.addEventListener('resize',()=>{ camera.aspect=innerWidth/innerHeight;camera.updateProjectionMatrix();renderer.setSize(innerWidth,innerHeight); });
        window.addEventListener('load',init);
    </script>
</body>
</html>

